{"remainingRequest":"K:\\VUE\\vueStudy\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!K:\\VUE\\vueStudy\\src\\betterScroll\\betterScroll.vue?vue&type=style&index=0&id=4fffe108&scoped=true&lang=css","dependencies":[{"path":"K:\\VUE\\vueStudy\\src\\betterScroll\\betterScroll.vue","mtime":1561990031485},{"path":"K:\\VUE\\vueStudy\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"K:\\VUE\\vueStudy\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1521907990000},{"path":"K:\\VUE\\vueStudy\\node_modules\\postcss-loader\\lib\\index.js","mtime":499162500000},{"path":"K:\\VUE\\vueStudy\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1531859504000},{"path":"K:\\VUE\\vueStudy\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* #f2f2f2: #f2f2f2; */\n\n.scroll-demo {\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n}\n\n.header {\n    height: 100px;\n}\n\n.mall {\n    width: 100%;\n    background: #f2f2f2;\n    display: flex;\n}\n\n.wrapper {\n    overflow: hidden;\n    width: 80px;\n    font-size: 14px;\n    background: #fff;\n    text-align: center;\n    border-right: 1px solid#f2f2f2;\n\n}\n\n.wrapper li {\n    line-height: 40px;\n    border-bottom: 1px solid#f2f2f2;\n    width: 100%;\n    padding: 0 5px;\n    box-sizing: border-box;\n    background: #fff;\n\n}\n\n.wrapper li.active {\n    background: #f2f2f2;\n}\n\n.wrapper li.active {\n    background: #f2f2f2;\n}\n\n\n.wrapper2 {\n    width: 100%;\n    background: #f2f2f2;\n    padding: 10px 10px 10px 0;\n    box-sizing: border-box;\n    overflow: hidden;\n\n\n\n}\n\n.wrapper2 li {\n    position: relative;\n\n}\n\n.wrapper2 li .title {\n    line-height: 40px;\n    padding-left: 10px;\n    font-size: 14px;\n    font-weight: bold;\n\n}\n\n.wrapper2 li .title.fixed {\n    position: fixed;\n    top: 0;\n    left: 0;\n}\n\n.wrapper2 .goods-box {\n    width: 100%;\n    display: flex;\n    flex-wrap: wrap;\n}\n\n.wrapper2 .goods {\n    width: 50%;\n    padding: 10px;\n    box-sizing: border-box;\n\n\n}\n\n.wrapper2 .goods img {\n    width: 100%;\n    height: 100px;\n    border-radius: 5px;\n}\n\n.wrapper2 .goods .footer {\n    line-height: 40px;\n    font-size: 12px;\n    text-align: center;\n}\n",{"version":3,"sources":["betterScroll.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgNA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"betterScroll.vue","sourceRoot":"src\\betterScroll","sourcesContent":["<template>\r\n    <div class=\"scroll-demo\">\r\n        <div class=\"header\">\r\n            <!-- <span @click=\"$router.go(-1)\">返回上一页</span> -->\r\n\r\n            <h3>vue中通过better-scroll实现商城分类的左右联动</h3>\r\n\r\n        </div>\r\n        <div class=\"mall\">\r\n            <div class=\"wrapper\" ref='wrapper'>\r\n                <ul class=\"cate-left\">\r\n                    <li class=\"ellipsis\" @click=\"changeCate(index)\" :class=\"{active: index === activeIndex}\" v-for=\"(list,index) in shopData.left\"\r\n                        :key='index'>{{list}}</li>\r\n                </ul>\r\n            </div>\r\n\r\n            <div class=\"wrapper2\" ref='wrapper2' @scroll.native='scroll'>\r\n                <ul class=\"cate-right\">\r\n                    <li class=\"ellipsis\" ref='contents' v-for=\"(list,index) in shopData.right\" :key='index'>\r\n                        <div class=\"title\">{{list.leftTitle}}</div>\r\n                        <div class=\"goods-box\">\r\n                            <div class=\"goods\" v-for='item in 5' :key='item'>\r\n                                <img :src='list.img'>\r\n                                <div class=\"footer\">商品标题-{{item}}</div>\r\n                            </div>\r\n                        </div>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import BScroll from 'better-scroll'\r\n    const demoList = [];\r\n    for (let index = 0; index < 10; index++) {\r\n        demoList.push('测试' + index);\r\n    }\r\n    export default {\r\n        data() {\r\n            return {\r\n                lists: demoList,\r\n                activeIndex: 0,\r\n                shopData: {}, // 商品数据\r\n                scrollTops: [],\r\n                scrollY: 0\r\n            }\r\n        },\r\n        async created() {\r\n            window.betterScroll = this;\r\n            await this.getShopData()\r\n            this.$nextTick(() => {\r\n                this.scrollInit()\r\n            })\r\n            //修改 vuex的共享值 控制了 路由导航是否显示 已由全局注入代码实现 在mixin.js\r\n            // this.$store.dispatch('hideNav')\r\n        },\r\n        watch: {\r\n            scrollY(newVal) {\r\n                // console.log(newVal)\r\n                let scrolls = this.scrollTops\r\n                if (newVal >= scrolls[scrolls.length - 1]) {\r\n                    this.activeIndex = scrolls.length - 1\r\n                    return\r\n                }\r\n                for (let i = 0; i < scrolls.length; i++) {\r\n                    if (newVal >= scrolls[i] - 50 && newVal <= scrolls[i + 1] - 50) {\r\n                        this.activeIndex = i\r\n                        return\r\n                    }\r\n                }\r\n            },\r\n        },\r\n        mounted() {\r\n            let scrollH = 0\r\n            // 保证视图渲染完成\r\n            // 此处必须用this.$nextTick()，因为当时只用了setTimeout()，在电脑模拟器上可以使用，但是到了手机上之后就获取不到dom了\r\n\r\n        },\r\n        methods: {\r\n            /**\r\n             * 点击切换左侧导航的分类\r\n             * 同时右侧滚动到相应位置\r\n             */\r\n            changeCate(index) {\r\n                console.log(index)\r\n                // this.curIndex = index\r\n                this.scroll.scrollTo(0, -this.scrollTops[index], 400)\r\n            },\r\n            /**\r\n             * 获取商品数据\r\n             * @Author   tomorrow-here\r\n             * @DateTime 2019-01-10\r\n             */\r\n            async getShopData() {\r\n                await this.$axios.get('/betterScroll/shopData.json').then((res) => {\r\n                    this.shopData = res.data;\r\n                    // console.log(this.shopData);\r\n                    let scrollH = 0\r\n                    this.$nextTick(() => {\r\n                        setTimeout(() => {\r\n                            // 获取wrapper2中所有滚动的li元素\r\n                            const lis = this.$refs.contents\r\n                            for (var i = 0; i < lis.length; i++) {\r\n                                this.scrollTops.push(scrollH)\r\n                                scrollH += lis[i].scrollHeight\r\n                            }\r\n                        }, 10)\r\n                    })\r\n\r\n                },(res) => {\r\n                    this.shopData = dataDemo.data;\r\n                    // console.log(this.shopData);\r\n                    let scrollH = 0\r\n                    this.$nextTick(() => {\r\n                        setTimeout(() => {\r\n                            // 获取wrapper2中所有滚动的li元素\r\n                            const lis = this.$refs.contents\r\n                            for (var i = 0; i < lis.length; i++) {\r\n                                this.scrollTops.push(scrollH)\r\n                                scrollH += lis[i].scrollHeight\r\n                            }\r\n                        }, 10)\r\n                    })\r\n\r\n                })\r\n            },\r\n            /**\r\n             * 初始化scroll\r\n             * @Author   tomorrow-here\r\n             * @DateTime 2019-01-10\r\n             */\r\n            scrollInit() {\r\n                this.scroll_ = new BScroll(this.$refs.wrapper, {\r\n                    click: true // 配置允许点击事件\r\n                })\r\n                this.scroll = new BScroll(this.$refs.wrapper2, {\r\n                    click: true, // 配置允许点击事件\r\n                    probeType: 3 // 开启滚动监听\r\n                })\r\n                this.scroll.on('scroll', (pos) => {\r\n                    this.scrollY = Math.abs(Math.round(pos.y))\r\n                })\r\n            }\r\n        }\r\n    }\r\n    let dataDemo={data:{\r\n  \"left\": [\"left1\", \"left2\", \"left3\", \"left4\", \"left5\", \"left6\", \"left7\", \"left8\", \"left9\",\"left1\", \"left2\", \"left3\", \"left4\", \"left5\", \"left6\", \"left7\", \"left8\", \"left9\"],\r\n  \"right\": [{\r\n    \"leftTitle\": \"leftTitle1\",\r\n    \"img\": \"./betterScroll/images/img (1).jpg\"\r\n  }, {\r\n    \"leftTitle\": \"leftTitle2\",\r\n    \"img\": \"./betterScroll/images/img (2).jpg\"\r\n  }, {\r\n    \"leftTitle\": \"leftTitle3\",\r\n    \"img\": \"./betterScroll/images/img (3).jpg\"\r\n  }, {\r\n    \"leftTitle\": \"leftTitle4\",\r\n    \"img\": \"./betterScroll/images/img (4).jpg\"\r\n  }, {\r\n    \"leftTitle\": \"leftTitle5\",\r\n    \"img\": \"./betterScroll/images/img (5).jpg\"\r\n  }, {\r\n    \"leftTitle\": \"leftTitle6\",\r\n    \"img\": \"./betterScroll/images/img (6).jpg\"\r\n  }, {\r\n    \"leftTitle\": \"leftTitle7\",\r\n    \"img\": \"./betterScroll/images/img (7).jpg\"\r\n  }, {\r\n    \"leftTitle\": \"leftTitle8\",\r\n    \"img\": \"./betterScroll/images/img (8).jpg\"\r\n  }, {\r\n    \"leftTitle\": \"leftTitle9\",\r\n    \"img\": \"./betterScroll/images/img (9).jpg\"\r\n  },{\r\n    \"leftTitle\": \"leftTitle1\",\r\n    \"img\": \"./betterScroll/images/img (1).jpg\"\r\n  }, {\r\n    \"leftTitle\": \"leftTitle2\",\r\n    \"img\": \"./betterScroll/images/img (2).jpg\"\r\n  }, {\r\n    \"leftTitle\": \"leftTitle3\",\r\n    \"img\": \"./betterScroll/images/img (3).jpg\"\r\n  }, {\r\n    \"leftTitle\": \"leftTitle4\",\r\n    \"img\": \"./betterScroll/images/img (4).jpg\"\r\n  }, {\r\n    \"leftTitle\": \"leftTitle5\",\r\n    \"img\": \"./betterScroll/images/img (5).jpg\"\r\n  }, {\r\n    \"leftTitle\": \"leftTitle6\",\r\n    \"img\": \"./betterScroll/images/img (6).jpg\"\r\n  }, {\r\n    \"leftTitle\": \"leftTitle7\",\r\n    \"img\": \"./betterScroll/images/img (7).jpg\"\r\n  }, {\r\n    \"leftTitle\": \"leftTitle8\",\r\n    \"img\": \"./betterScroll/images/img (8).jpg\"\r\n  }, {\r\n    \"leftTitle\": \"leftTitle9\",\r\n    \"img\": \"./betterScroll/images/img (9).jpg\"\r\n  }]\r\n}\r\n};\r\n</script>\r\n<style scoped>\r\n    /* #f2f2f2: #f2f2f2; */\r\n\r\n    .scroll-demo {\r\n        height: 100%;\r\n        display: flex;\r\n        flex-direction: column;\r\n    }\r\n\r\n    .header {\r\n        height: 100px;\r\n    }\r\n\r\n    .mall {\r\n        width: 100%;\r\n        background: #f2f2f2;\r\n        display: flex;\r\n    }\r\n\r\n    .wrapper {\r\n        overflow: hidden;\r\n        width: 80px;\r\n        font-size: 14px;\r\n        background: #fff;\r\n        text-align: center;\r\n        border-right: 1px solid#f2f2f2;\r\n\r\n    }\r\n\r\n    .wrapper li {\r\n        line-height: 40px;\r\n        border-bottom: 1px solid#f2f2f2;\r\n        width: 100%;\r\n        padding: 0 5px;\r\n        box-sizing: border-box;\r\n        background: #fff;\r\n\r\n    }\r\n\r\n    .wrapper li.active {\r\n        background: #f2f2f2;\r\n    }\r\n\r\n    .wrapper li.active {\r\n        background: #f2f2f2;\r\n    }\r\n\r\n\r\n    .wrapper2 {\r\n        width: 100%;\r\n        background: #f2f2f2;\r\n        padding: 10px 10px 10px 0;\r\n        box-sizing: border-box;\r\n        overflow: hidden;\r\n\r\n\r\n\r\n    }\r\n\r\n    .wrapper2 li {\r\n        position: relative;\r\n\r\n    }\r\n\r\n    .wrapper2 li .title {\r\n        line-height: 40px;\r\n        padding-left: 10px;\r\n        font-size: 14px;\r\n        font-weight: bold;\r\n\r\n    }\r\n\r\n    .wrapper2 li .title.fixed {\r\n        position: fixed;\r\n        top: 0;\r\n        left: 0;\r\n    }\r\n\r\n    .wrapper2 .goods-box {\r\n        width: 100%;\r\n        display: flex;\r\n        flex-wrap: wrap;\r\n    }\r\n\r\n    .wrapper2 .goods {\r\n        width: 50%;\r\n        padding: 10px;\r\n        box-sizing: border-box;\r\n\r\n\r\n    }\r\n\r\n    .wrapper2 .goods img {\r\n        width: 100%;\r\n        height: 100px;\r\n        border-radius: 5px;\r\n    }\r\n\r\n    .wrapper2 .goods .footer {\r\n        line-height: 40px;\r\n        font-size: 12px;\r\n        text-align: center;\r\n    }\r\n</style>"]}]}